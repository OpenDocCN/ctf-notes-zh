# 2024B站最值得看的黑客教程 ｜ 网络安全／渗透测试／内网渗透／漏洞挖掘／web安全／kali linux／红队靶场／CTF／信息安全 - P5：HTTP超文本传输协议—请求头 - 网络安全免费学 - BV1uBsTetEow

下面我们来讲一下这一个请求投中的相应内容。这个请求同中的相应内容啊，这个我不知道啊，这个通讯班多少钱的话以及优惠情况，你找班主任问一下啊。这个同学就是加班主任的微信问一下就行。

首先呢我们来看一下刚刚在上面这些杂乱的东西，它分别代表什么。首先第一个我们来看第一个叫做hosthost，它的中文意思叫做地址。就是你要访问哪一个网站。比如说老师这里呢想去访问核电la。

那它的host的这个地方就是写3W点核田la点comM。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_1.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_2.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_3.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_4.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_5.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_6.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_7.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_8.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_9.png)

那如果你想去访问其他的，比如说你想去访问啊，百度就是3W点百度点com，在这里呢会有一个体现。第二个叫做user agent。user agent就是告诉服务器浏览器的相关信息。

供服务器解决浏览器的兼容问题。为什么会这样说呢？请大家注意。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_11.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_12.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_13.png)

像我们访问网站的时候，经常会有这样一个弹窗，就是告诉你你的浏览器版本过低，请更新浏览器。那这个时候我们来想服务器是怎么知道我们浏览器的版本信息的啊，其实浏览器呢在发送request的请求消息的时候。

会把这个浏览器的相应版本信息夹在我们请求头userag里边去发送到我们的服务器上面。好，这是userag。第二个应用呢，就是大家在访问啊，比如说你去拿手机访问和电脑同时访问一个网站。

你会发现你打开的这个结果内容是不相同的。为什么会不相同呢？就是因为我们这个手机的浏览器，它通过userag它告诉了服务器，我是一个手机，我们的电脑呢它是通过userag来告诉服务器。

我到底是windows操作系统。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_15.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_16.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_17.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_18.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_19.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_20.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_21.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_22.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_23.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_24.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_25.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_26.png)

统还是miccroOS。那我们的服务器呢就能够接收到它的一个相应信息，并且呢开发人员可以去编写后台代码来实现相应的判断和功能啊，这个就是useragent，那我们下面呢再来看一个。

比如说像ri啊ri这个字段是干啥的，大家可能不太清楚啊，这个refer是干啥的。首先呢refer是告诉服务器从哪里来，它在开发中啊，作用是非常大的。第一个作用呢是统计啥意思呢？

比如说你去访问我们的和天网安实验室。在和天网安实验室中，你去点击啊，在百度中你去点击我们的实验室访问，就证明你是从百度来进入的网安实验室。那比如说现在实验室呢，他想去找百度打个广告啊。

比如说我打个广告给你几万块钱你给我打个广告，然后每个月呢。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_28.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_29.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_30.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_31.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_32.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_33.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_34.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_35.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_36.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_37.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_38.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_39.png)

我们会统计有多少用户是从百度点击进入的和田环安实验室。那怎么统计呢？就是通过我们的refer字段告诉服务器是从哪里来的。如果我们一个月统计refer字段呢是百度的比较少，那就证明你这个效益啊。

这个广告的效益是非常低的啊，我们来做一个统计的操作。那第二点呢就是refer还可以做一个防盗链的操作。我这里给大家讲啊，大家听就行了。



![](img/04a57c7b44d9f27112c0ab04d868f9d0_41.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_42.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_43.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_44.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_45.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_46.png)

什么叫做防盗链呢？就比如说张三，他现在想去做一个啊视频网站，他有几种方法呢？基于第一种，他就是自己从零开始，完整的写一个电影网站写一个视频网站。

然后把这些好高清的蓝光电影全部都存放在他的服务器硬盘上面啊，供大家去浏览去读取去观看。那这个情况下很明显，现在一个电影动辄都几十GB。那对于张三的服务器硬盘空间。

以及他服务器的性能和网络的IO速度都是一个很大的压力。张三他需要投入很高的成本成本去实现这件事情。那张三呢又有一个投机取巧的办法，就是滥竽充数，投机取巧。他怎么办呢？张三呢现在他只做了一个电影首页。

这个首页中啊有各种各样的电影和电视剧。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_48.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_49.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_50.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_51.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_52.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_53.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_54.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_55.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_56.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_57.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_58.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_59.png)

当你点击之后，比如说我想去看啊，比如说我想去看红海行动啊，你点之后它就会跳转至腾讯视频的红海行动播放页面啊，这样的话，很明显就节省了张三的这个人力成本和这个服务器的运行成本。那这样来想一下是非常方便的。

但是你动脑子想一想，腾讯视频会允许你这样做吗？那肯定不可能的。所以说腾讯视频呢，它在设他在设置的时候啊，他再去接收请求的时候，他会验证。

他会验证你是否是从腾讯视频首页或者是从腾讯视频相关的网站访问的红海行动。如果不是，那我就不允许你播放视频。就是如果你是从张三的个人电影网站中点击跳转至的红海行动腾讯视频播放页面。



![](img/04a57c7b44d9f27112c0ab04d868f9d0_61.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_62.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_63.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_64.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_65.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_66.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_67.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_68.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_69.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_70.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_71.png)

那腾讯视频是不允许你播放的，他会说啊你使用了非法的这个网络链接啊，这是refer字段的最常用的两个功能。如果在面试的时候啊，大家能够像老师这样一样回答，那你绝对是满分的答案啊，这是re字段。

下面我再讲一个像coiecoie它的中文意思叫做曲奇饼，为什么要讲它呢？首先HTTP啊超文本传输协议，它是不能够记录我们用户的登录状态的啥意思呢？比如说百度贴吧，我相信每一个同学都用过。

那百度贴吧中啊有各种各样的吧，比如说什么D吧呀，还有你大学的清华大学贴吧呀，北京大学贴吧呀等等。那我们想用想使用百度贴吧，你首先要做的就是要登录百度账号，那怎么登录呢？哎，我们在登录百度账号之后是吧？

然后你比如说登录百度。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_73.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_74.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_75.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_76.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_77.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_78.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_79.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_80.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_81.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_82.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_83.png)

账号，然后访问北京大学的贴吧。那你这个时候你转而去访问清华大学的贴吧，你发现啊就不要再次登录了。因为呢这个登录状态已经被记录下来了。那这是怎么记录的呢？我们超文本传输协议是无法做到的。

就是依赖于我们的coiecoie，你可以把它当做是一个令牌，啥意思啊？就是比如说这个古代的皇帝，古代的皇帝如何去行使自己的皇权，是通过自己的照片吗？不是，因为古代的皇帝啊，如果到全国各地。

那个时候没有照片，大家都不知道皇帝长什么样，那这时候咋办呢？皇帝啊就会掏出自己的令牌，掏出自己的玉玺，来证明啊自己是一个皇帝去行使皇权。那这个coie就相当于是皇帝的玉玺，是皇帝的令牌。

我们客户端就是我们的浏览器。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_85.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_86.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_87.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_88.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_89.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_90.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_91.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_92.png)

中拿着co就证明啊我们是一个已登录的状态。我们拿着coque去访问百度的任何页面，都不需要再次这一个都不需要再次登录的啊，都不需要再次登录的这个同学说token啊token是令牌啊。

token是真正的令牌cokey是用在HTTP传输中的哈，token是一个你讲的token是一个广义的名词啊，广义的名词，在不同的协议中以及不同的应用软件中哈。

这个token所代表的意思是不一样的这是根据软件的设计者来去决定的啊，这个不能说单独的说token是什么意思那它的中文意思就是令牌啊。那刚刚呢是对cokey做了一个简单的解释。

那其实呢大家呃对我们的请求头就有了一个基础的了解。那HTTP它所定义的请求头呢还有非常多那我们呢并不需要完全掌握。



![](img/04a57c7b44d9f27112c0ab04d868f9d0_94.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_95.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_96.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_97.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_98.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_99.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_100.png)

![](img/04a57c7b44d9f27112c0ab04d868f9d0_101.png)

就像你学英语，不要背牛津词典一样，我已经说过很多遍了啊，我们就继续来看吧。

![](img/04a57c7b44d9f27112c0ab04d868f9d0_103.png)

这个是请求消息啊，这是请求消息。