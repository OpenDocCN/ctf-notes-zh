# 2024网络安全系统教程！清华大佬花159小时讲完的网络安全系统课！别再盲目自学了，学完即可就业！零基础入门网络安全！（渗透测试／漏洞挖掘／CTF／黑客技术） - P92：79.平台提权漏洞合集.mp4 - 教网络安全的红客 - BV1ft421A7Nj

然呃，下面的话就是这一个。呃，就在上节课的话呃给大家有介绍，就是说这样子的一个window平台的一个提群漏洞的一个集合，对吧？

然后的话我们可以通过他的这边的这个呃MSF当中的这个local这样子的一个模块。我们可以去基于已经得到这个筛选在这话筛选一基于已已经得到这个绘画。然后的话我们执行这个模块之后的话。

它就会去做相应的一个呃提群漏洞的一个检索。它会去在当前的一个目标机上面去进行一个检索。然后的话去判断呃我我的一个目标机器能否去进行一个相应的一个提群。

然后他在这边他会去列出就是说可能存在的这样子的一些提群漏洞的一些利用的一个模块。然后我们在这边的话可以去一的去尝试使用这些模块来去进行一个提群。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_1.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_2.png)

然后在这边的话，齐权的话呃。我们在这边的话是以就是说我们执行这个呃。执行了这样子的一个提群的一个信息紧锁的这样子的一个模块之后的话，他这在这边有给出了这样子的一些啊可能的这样子的一个提群的一些模块。

对吧？以及对应的这样子的一个呃漏洞。然后在这边的话，我们尝试使用其中的一个提群模块，然后的话来去进行一个提群。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_4.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_5.png)

然后具体的一个效果的话就是我已经知道了，对吧？他这边有给了建议，我可以去使用哪些提升的一个模块。那么我直接去柚子它，然后的话去行一个使用即可，对吧？然后这边的话最后的一个效果它话就是像这样子。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_7.png)

。就我执行之后的话，执行之后的话，在这边呃，他会去得到这样的一个筛选4，对吧？然后这个筛选四的话，我们在这边看的话，就是说这边information看到的话，它是一个普通的一个用户。

但其实的话我们筛选进入到这个筛选四的话，我们通过get systemem就能够去得到这样子的一个st的一个权限。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_9.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_10.png)

玩。我的把机。讲了吧，他是。有快照吗？我我我我忘了看一下吧。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_12.png)

刚刚都刚刚都是没问题了。7了吧。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_14.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_15.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_16.png)

嗯。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_18.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_19.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_20.png)

啊。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_22.png)

。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_24.png)

不行行。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_26.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_27.png)

我这边还还原到初始的这一个的话，我的环境没了。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_29.png)

不し。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_31.png)

。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_33.png)

嗯。行吧，知道了吧。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_35.png)

呃，这边的话不好意思啊。这边环境突然突然崩了。然后呃。这边的话可能就是。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_37.png)

会有有一两个操作可能会实现不了，就是演示的话。嗯。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_39.png)

呃，在这边的话。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_41.png)

我这边的话也提前就是生成了这样子的一个可进性程序啊，然后就是模拟我已经得到了这样子的一个普通用户的一个绘画，对吧？然后我这边的话得到了这个筛选。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_43.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_44.png)

20。我们ge这ID之后的话，得到是这样子的一个普通用户win7的这一个普通用户是吧？然，后我这边的话我尝试使用这个样子的get system来去进行一个提全。然后在这边的话，你会发现的话。

这边的话是无法去直接提全的。然后其实我们可以需要到呃。学到他他的这个绘画。我们可以来查看一下这个winIN7的一个用户啊，它其实也是一个管理管理员组的一个用户啊。

但是他同样的就是说无法去使用这样的一个该s systemst来进行一个提全。所以针对这样子的一种情况的话，我们可以尝试使用。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_46.png)

这样子的一个ip passUAC。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_48.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_49.png)

就是这个。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_51.png)

然后我这边的话直接柚子这一个模块。柚子之后的话，在这边要去配置的一个选项的话，就这三个就这一个筛选。然后的话loc host还有loc pot，对吧？啊，我这边的话要去设置一个筛选，这边的一个筛选的话。

就是选择我这边前面得到的这一个普通用户的这一个筛选，对吧？因为我要去进行一个提全的话，我是基于这个筛选绘画的，也就是这边的这个20。我算的是一个筛选120。然后这边的一个houseport的话。

我就呃默认。那我这边的话是我当前的这个开理机器话是这个。ex。export执行之后的话，它就会有这样子的一个backpasUAC的一个操作。然后在这边它就会返回这一个筛选21。

然后得到这样子的一个mcra。然后在这边的话，我们可以getUID来查看一下当前那个用户，他其实还是这样子的一个win气啊，对吧？然后在这边的话，我们得到了这样子的一个m。我们通过这个白0ACC得到了。

我们还需要去执行。这一个提全的一个命令。我们才能够去得到这样子的一个。先审的那个权限。但系。うん。所以的话就是说我们在这边对吧？原本的话我们。直接去进行一个get system的话，提全不了，对吧？

那么我们针对这样子的一种情况的话，在这边我们可以使用这样子的一个bypasAC的一个模块，对吧？然后的话利用它的这个模块来得到了这样子的一个筛选21。然后在这个筛选21的话，其实我这边这个筛选S1的话。

它其实已经有得到了相应的一个管理员的一个权限。然的话我们就能够去进行一个呃执行这个get system来去得到一个sstem的一个权限。就其实如果说你这边的话，你这边呃，这边看一。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_53.png)

Okay。Yeah。就我这边我换一个用户，对，大家其实也可以自己去尝试啊。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_55.png)

我这边换一个admin的一个用户，对吧？然后的话我在这边的话直接。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_57.png)

直接执行这一个执行这个的话，我这边的话会得到另外一个新的一个筛选。然后我这边的话，你。你这个新得了这个32225。我们可以看一下这边我这边的一个筛选SL的话，是一个administister的一个用户。

对吧？而我前面得的话，其实只是一个win7的一个普通用户啊。虽然他是一个管理原主，但是他同样他得到不了是这么一个权限。然后我这边的话，我得到，如果说我得到是一个这样的一个admin产生一个用户。

对吧然后我在这边的话，我直接该 systemt统，我就能够直接的去得到这样子的一个 system统。这是这就是呃。前面这就是前面跟这边的一个区别啊，就是我们前面的话。

因为我们其实通常的话得到就是一个普通用户嘛，对吧？当然的话也可也存在这样子的一个情况。就是你得到就直接是一个adminadmin的一个用户对吧？那么你得到这个admin的一个用户权限的话。

你就可以直接的去直接执行这个get system来去得到一个sst的一个权限。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_59.png)

这是。这是第一个的一个m的一个齐全模块。然后第二个的话就是这一个白放实间C的一个injection。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_61.png)

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_62.png)

Yeah。呃，这个的话跟前面的一个操作一样的。我这边的话我就。时间。嗯。这边的话同样的是筛选一个筛选，对吧？然后呃同样的用的前面的这个筛选20，也就是这个普通用户的这一个筛选，对吧？这个筛选20。

也就是这个winIN7的这个普通用户的一个筛选。然后的话我这边的话，我直接export。啊。然后直接export一则的话，在这边的话我就得到了这样子的一个呃。筛选23对吧？

也就是得到这样子的一个mch press的一个方法。然后我当前getUID直接得到了它的一个stem的一个权限。这个的话就是呃这一个白块水AC的一个模块的一个使用。然后在这边的话要注意啊。

就是呃我这边的话，因为是其实前面的话已经有操作了。然后在这边的话，大家呃如果大家自己去进行一个操作的话，会有这样子的一个问题，就是会有这样子的一些报错什么。然后呃其实关于这些报错的话。

我已经讲了挺多了呀。就是就其实你去发现这一些问题啊，你发的发现这一些问题的话，他不是会有这种报错的一个信息嘛。比如说在这边的话，我这边的话就是呃大家去用这个模块会有这样子一个问题。因为我当前的话。

这个是一个残留式的一个机器。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_64.png)

然后呃默认的话，这边的一个tget，它其实是1个叉86的。我这边的话是我自己后面改的。我这边设的他age为。明白，然后我。查看一下这边的话是一个windows。对，然后如果说在现在时候我再去执行的话。

他就会报报错。就是说呃你在这边你设置好了这种设置好了筛选，以及locco那个port的话，你还要去注意要去注意这样子的一个tage，也就是针对不同的呃操作系统的这样子的一个架构。

我们就是说我们用MSF去进行一个利用的时候，它的一个呃它是不一样的。它最后的一个结果。就是你要去做一个对应，就像我们使用这一个payload对吧？你在叉64的一个平台的话。

那么你就去使用叉64的1个 payload。那么这一个参用式平台对吧？这种平台这种信息我们怎么获取呢？就是前面的一个信息收集嘛，对吧？前面的一个信息收集，我要我可以去查找到对应的这个系统。

它它的一个系统的这种架构，对吧？那么我知道它是1个64位的，那么我就可以用64位的配out去生成64位的配去打，对吧？不是32位的，那么我就生成32位的。然后其实在这边的话，像呃在MSF这种工具里面。

你去去检查这种报错的话，它其实这边的大家只要看到这种就是红色的对吧？然后一个警号这种就是报错嘛，然后你只你你就去关注这一行就可以了。然后在这的话，他就是报错来，就是说你的这个攻击停止了，对吧？

因为这边的话有错出错，就是这边的一个ba confi，也就是你的一个配置的话是出错了。配置输出的点上呢就是这边嘛，这个叉86tage select for from叉6式的一个stem。

然后关于这种大家不清楚，对吧？你翻译一下吧，对吧？就说为叉64系统选择了叉6叉86的一个目标。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_66.png)

那么我们发一下我们就知道了嘛，对吧？就是我这边的一个我是本来是一个叉64的一个系统，但是我这边的选择的一个叉给层的话是1个叉86的对吧？所以的话我们在这的话只需要 set一下，它改成一啊。

然后这边的话就是一个正确的一个配置，然后我直接expo就能够去进行一个提全。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_68.png)

就是呃这一个。呃，然后的话也是这样子的一个windows平台的一个集全漏洞的一个集合。呃，上节课的话因为内容的话比较多，没有去给大家操作演示。所以的话呃关于MSF相关的这些操作的话。

我都放到了放到了这一节课。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_70.png)

啊，呃，在这边的话，我们直接右指右指这一个模块。我这边号就不少。了，我直接复制粘贴啊。然后我直接右指这一个localex suggest的一个模块。然后这些话你只需去设置一个这样的一个se。

我这边设置一个筛选的话，就设置为筛选20，对吧？就是。我们前面得到这个普通用户的这个筛选。奥特曼。我们。然后的话这边的话就其实就已经配置完成了呀，对吧？然后我们只需要一创执行。export执行之后的话。

它就会呃去运行它的就是说它的这个模块里面的话，它已经有写好了相应的一些检测的一个脚本。啊，这些脚本的话，它就会去检锁呃，这一个筛选20，它会以这个筛选20的这一个绘画的一个权限。

去检锁你系统当中可能存在的呃，能够去进行一个提全的一些漏洞，对吧？然后的话给出对应的MSF当中可以去直接去使用的这样子的一些模块。呃，这边的话呃稍微等待了一会儿时间，对吧？它的一个速度还是比较快的。

然后在这边的话，我们呃执行之后的话，他在这边给出了这样子的一些呃这样子的12344个对吧？四个可以可能存在漏洞的一个模块，也就是我们能够去进一个漏洞利用的一个模块。然后这边的话我们呃就以第一个为例吧。

然呃在这里的话，大家要注意啊，就是要注意的一个。东西就是说他在这边所提供的这样子的一些模块，你可以去尝试使用。但是的话你使用它的这一个模块的话，不一定就不一定能够去进行一个提全成功。

大家要就是知道这一点啊，就说他的这样子的一个呃警测的话，他的这样子的一个就是参考的话，就只是作为一个参考。你可以去尝试，但是不一定能成啊。啊，呃，在这里的话，我们可以看到我这边的话呃。

它这个模块同样的也是只需要去设置我们的这个筛选，对吧？就是我这边的1个20普通用户的的一个绘画。然在这里的话我们就得到了这样子的一个m的一个筛选25。对吧然后呃我们可以看一下当前的这样子的一个。呃。

用户是win7对吧？然后我们可尝试用de system来去进行一个集群。然后在这边的话，我们同样的通过这边的这一个模块得到了这样子的一个s的一个权限。这边的话运气比较好，对吧？直接第一个就成了。

然后我们也同样的可以去尝试。呃。其他的这边的话，你比如说。你周一个会。就其说提拳的话，真的比较看运气啊，就是。然后在这边同样的要去注意啊。

就是如果说你这边的一个target target有这样子的一些选项，对吧？你可以通过需tge。来去查看一下，就是这边有哪一些t。然后在这边的话只有一个的话。

那就说明啊我当前的这样子的一个就是提前的这个模块，它只针对就win7的这样子的1个SP0SPE的这样子的一个系统啊。如果说还有其他的一些系统的话。

你要知道目标机器正好就是说属于它的一个target范围之内的话，那么你就去选择对应的这样子的一个tget。这于他嗯嗯。对执行。呃，这个也是没有问题的，是吧，也直接得到这样子的一个汇话。

直接就得到了他的一个C统的一个权限。呃，还有其他的两个的话，我就不一的去尝试了，就可能成功，也可能就是失败了。



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_72.png)

好，这边的话试的这两个是都是成功的，没有问题的。然后的话就是这一个这一个。windows下面的一个提全漏洞的一个集合。就利用的这一个模块，就这一个模块的话，它。呃，大家在MSF当中。

如果说你反正需要到MSF当中的话，呃，正好是windows机械的话，你可以去尝试啊。因为它是自动的去检锁嘛，就呃就省去了我们去手动的去一步步的信息收集然他找对应的这种啊啊E叉P去进行一个打是吧？

他在这话直接给了静影，然后的话可就是你直接去用的话，有很有可能就能够直接去打成功。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_74.png)

嗯。

![](img/4aacdfe1121101c2f2b913e9f8ca98d9_76.png)

大这个的話。选是就后面的这几个对吧？2526这些都是呃通过。提全的一个模块所得到的这样子一个stem的一个权限，对吧？然后这边的这一些筛选的话，它都是基于这边的一个。它都是基于这边的1个20，对吧？

就是我这边的一个win7的这个普通用户，就这一个普通用户，它原本直接gett系统的话。他是无法去得到一个stemst的那个权限的对吧？



![](img/4aacdfe1121101c2f2b913e9f8ca98d9_78.png)

陈诉。