# 2024最新版网络安全秋招面试短期突击面试题【100道】我会出手带你一周上岸！（网络安全、渗透测试、web安全、安全运营、内网安全、等保测评、CTF等） - P18：面试题-应急与响应SSH被爆破解决办法 - CTF入门教学 - BV1bcsTeXEwR

本节课呢讲师面试题中常问到的SSH被爆破了，怎么去解决呢？好，我将这几个步骤呢全部都整理到语雀文档上了。有需要同学的话可以在评区留言或者私信我，记得一键三连哟？众所周知啊，SSH呢？它是什么？远程登录。

远程控制咱们这个电脑的中要中的一个play一款，是不是？SSH呢它是一个网络协议啊，就是说它是建立啊是用于建立咱们这个一台电脑和另一台电脑相互之间一个通信一个桥梁啊？

所以啊它是一个加密性的是一个安全性的那你想想这么安全，这么隐蔽的一个通道，被别人发现，并且被别人利用了，那你怎么确保它传输的一些信息，或者说它给到我这个信息是一个正确的。

是不是还可能啊会去监控我这个电脑？所以呢我要避免这个情况啊？O我们看第一步啊，首先呢第一步要进行日志分析。为什么要进行日志分析很简单，因为日志呢是存储咱们这个活动记录。

是不是任何人去爆破我去爆破我的话会留了一行痕迹啊，这个痕迹呢我们可以称之为入侵记录。这个入侵记录呢，可能会暴露你的IP。所以呢我就通过IP去监控你啊。好，我们看。哎。

在这里首先呢是要进行实时的一个监控分啊分析啊。就是说我们要去监控咱们这个日志，我们可以通过tell去查看，去实时查看一下日志一个信息啊。

那么第二步呢就是要统计登录成功的1个IP就是说他们去登录我的话是什么呢？是不断去尝试，对不对？通过字典不断去爆破，暴力破解。那你想想他去尝试这个次数是不是非常非常多，对不对？

因为他可能是在他那个密码本里从1到什么什么100等等等等。这个区间内，然后去不断去尝试，可能是1000等等等等，所以他尝试的次数是非常非常多的，OK那我们可以通过这个命令去查看一下，这个是什么意思呢？

就是说我要去啊咱们这个日志里面去找啊，有关于咱们这个什么呢？哎password是不是找password就是要检索啊，第一是要检索。检索成功之后的话，我去找它的一个什么呢？哎，通过它去打印出哎。

相关的一些信息，这个是什么意思呢？进行排序啊？哎，这个是。哎，不重样不重样不重复，对不对？重复的我们全把它排除掉。唉，这个是什么呢？还是要进行什么呢？近一次的一个排序啊。

反正这个意思就是说他啊对咱们这个层次是最高。次数最高的也就是尝试的次数最高的，然后排到第一位，然后把它的IP给显示出来。好。那么第三步呢，就是说已经显示出了1个IP是不是已经列出了这个IP表。

那我就是对它哎分析一下，我要对咱们这个成功登录的1个IP进行审查。因为有的时候呢，是我所授权给他的。是有可能是我自己的，有可能是哎我授权给同事是的，对不对？

所以的话我要去判定他是否属于一个正确的一个用户啊，是不是或者是一个已授权的1个IP范围，对不对？如果说他有异常的话，我要进行进一步的分析，我要分析它什么呢？就是说看一下它有做什么一个状况。

在我的一个计算机里面有做什么营销行为，是不是最后对它进行溯源等等等等。OK既然进行了认知分析，那么我要去查看用户的一个安全性啊，我要去检查一下用户这个情况啊、行为呀，有没有哎出格呀等等等等，是不是？

首先呢我们要通过last去查看用户登录这个历史。就有的人呢他去登录我的话，他还会去尝试。哎，去这边碰碰那边碰碰那边找找这边找找是不是。不断找取一个什么呢？可以下手的这个点，是不是他要去进行再次一个利用。

好，最后呢就是要检查用户这个权限。因为有的人呢他不会啊用你的一个用户，他会干什么呢？他会新增一个用户啊，新增一个用户，新增什么样的用户，他可以新增一个普通的用户啊，你可以新增一个啊管理员用户。

一般来说我一般都要提全一下，对不对？所以呢我们要去哪里去找呢，我们可以去啊paword啊，还有group里面去查找有没有新增的一个用户啊，好，我们来看一看。啊，卡里亚。点击终端。就入此。字体搞大一丢丢。

哎，可以看到这些呢全部都是一个我的用户，是不是？哎，我的用户和他所属的一些权限，以及他一个路径是不是全部都出来了呀？如果说觉得太多的话，我们可以使用t。太样呢就是说它会显示最后的几行，后面的这几行。

比如说我想显示先十行吧。哎，扣明一下。Acade就不要了。哎，可以看到它是不是显示前十行没有这么多这么多，是不是？Okay。一般来说呢，他新增一个用户呢，就是啊会。放在这后面，最新这后面。O。

这个groupop的话就交给大家了。好，那我们查看好咱们这个用户的安全性之后，我们是要确定啊攻击情况是不是确定他能能不能往后还能攻击我这个唉电脑。那么第一步呢就是要去隔离异常的IP啊。

就是说我们发现了啊登录了这个异常情况，是不是？那我要去防火墙去封禁该IP哎，防火墙是有规则，是不是我就可以自己去新建一个规则，对不对？我将只要是这个IP所发出来一个请求，一切请求，不管是什么样的请求。

我通通都不同意，是不是就从根源上解决问题，是不是？那么第二呢就是要去检查检查内网的一个安全性啊。就是我们要确定啊确定受受受攻击的一个服务器是否被用作跳板机去攻击其他内网的这个服务器。

还有呢就是要去查看咱们这个内网的流量啊。这什么意思呢？跳靶机是什么意思呢？就是说他将你啊他将你这个电脑作为他攻击这个。哎，机器了就相当于你是一个苦命的打工仔，他直接利用你的哎，利用你这个身份。

然后去干什么呢？去攻击别人，就是杀。借刀杀人就是借刀杀人这样子OK以及要去检查咱们这个内网的一个流量啊，哦后把它copy下来，来到这里查看一下。哎，P。好。好，这些呢就是咱们这些流量啦。O把它。关掉。

那么第三步呢就是要去检查咱们这个后门，还有一些恶意软件。就是我们要去使用咱们什么呢？杀毒软件去检查服务器或者是计算机是否存在一些后门，或者是恶意软件，防止别人啊，通过它再次去攻击我，再次去控制我。

对不对？就相当于它是一些间谍，我要清理门户了，我要将这些间谍全部都是一网打尽，对不对。好，那么全部都做好之后，那就是最后一步关闭啊，关闭咱们这个端口。已知呢SSH它一个默认端口是什么呢？22是不是？

所以的话我们可以修改一下，我们可以修改一下，不用这个默认端口，我们可以修改一下自己这个东西，对不对？你们可以去啊配置文件里面去配置，将它这个端口变成你自己自定义的这个端口啊，最后要重启啊。

一定要重启咱们这个服务才能够去更改。还有第二步呢就是要去限制访问，在防火墙中去设置咱们这个规则，仅允许特定一些IP地址，或者说IP范围去访问一些新的SSH这个端口，对不对？进行近一色的加密啊。

OK反正我将这些已经整理到语雀文岛上了，有需要同学的话可以在评区留言或者私信我。好，那最后做个小小总结啊。这节课呢讲的是SSH被爆破了，我怎么去解决。首先呢第一步是不是进行日志分析，对不对？

第二步呢是不是说去检查咱们这个用户的安全性，检查它一些活动。那么第三步呢，是不是要去确定攻击这样子情况，去把这个呃咱们这个异常的一些IP全部都禁止去访问，对不对？禁止他去访问我的计算机或者我的服务器。

还要去检查是否有一些后门啊，还有一些恶意软件。那么最后呢就是要去关闭咱们这个22端口啊，修改咱们这个默认端口限制一些访问。好，那么本节的课程就到此为止啦。

