# 2024年最强Kali渗透教程／网络安全／kali破解／web安全／渗透测试／黑客教程 ／代码审计／DDoS攻击／漏洞挖掘／CTF - P30：7_网站waf识别 - 网络安全系统教学合集 - BV1Pe411C7Zb

现在的一些网站，网站管理员他自己不会做防护，也不晓得不清楚自己写的代码水平如何，有没有漏洞。那很方便，就有waf的出现。那wa是web安全。web应用防火墙，一般可以分为软waf和硬waf。

那硬件wa就是看到那个铁盒子啊，铁盒子那个是一个硬件waf包括IDS流扣等等。那软件的wa呢一般是通过一个白名单或黑名单代码进行一个request包的过滤或responsible响硬包的一个过滤。

waf呢比如有免费的安全狗或者是知道创宇的wa夫，这些是免费的，或者是现代一些的中间件宝塔、宝塔面板，也都是具有waf的。并且阿里云、阿里云盾安骑士都是可以防御一些基础的攻击，比如搜坡注入。

这些基础攻击是都可以防御的。那我们在做渗透测试，如果遇到wa，遇到版本比较老的wauff，就可以搜索如何绕过或者利用一些注释或者是URL编码双重编码等绕过wa的限制。绕过wa限制。

我们不能够进行盲目去绕，可以经过复s或者是对waf进行识别，精准绕过。那我们如何对wa呢？wa就是we web application fire web应用防火墙。

用于保护网站防黑客防网络攻击安全防护系统。那大家在我8SRC的时候，有可能看到哇，我找到了一个找到了一个庞站一看用out一看你能看出它的列，然后用搜狗注入语句一看咦就提示安全狗语音锁啊。

就安全狗语音锁告诉你，你被你被这个你被识别了，然后你使用搜cle map进行一跑两IP就被封锁了。啊，安全狗。那对于现在网站，你是挂有安全口，其实还是挺好的。只过他的一个缺点就是你如果挂着这个安全口。

他这个这个公司他会不停的给你打电话，让你升级产品。

![](img/1d68020549bae50c5d0e92d038d2d38f_1.png)

嗯升居产品这个就是比较麻烦。

![](img/1d68020549bae50c5d0e92d038d2d38f_3.png)

。那我们看如何去识别wa呢？第一个就是我们用手动啊，常见的waf，一种是防建防种各类网络攻击，一般是防OWSPtop式攻击，包括但不限于搜狐注入叉思思CSRF网站后门等。第二个可以防止自动化攻击。

大家知道网站后门终究实行的是什么？网站后门执行的也是一些系统调用命令。那他这个wa把这些呃请求包的系统调用命令给干掉。那你这个。后门这个一句话木马就没有用了啊，你要做免纱嘛，叫照顾哇夫。

2、可以防止各类自动化攻击。比如暴力破解。那暴力破解，我们一般可以配置防火墙ID tables都可以进行配置啊。但是有的他这个运维啊，网站管理员它不会怎么办呢？我们可以用安全狗它帮我们这个配置。

那暴力破解。比如说你能密码登录3次错误就一分钟再登录，你登录10次，那你今天就禁止登录。比如你对SSH或RDD进行包爆破，你登录少于登录5次失败，那我你的ID就被干掉了。还有就是一个防止批量注册。

还有一个。网站漏洞扫描器IWVS他发现你这个IP有大量的数据经过我这里就把你直接给封锁。第三呢，可以阻止其他常见威胁，比如爬虫零带攻击、代码分析、嗅探、数据篡改、权越权访问、敏感性泄露等等。

还可以防止恶意的包含虐权扫描等。这里wa还有一个作用是防爬虫。我们一些知识库啊，包括一些重要的文件，公司的文件一般是不想被恶意爬虫的那我们可以利用wa或者是用前端的GS进行一个爬虫防护。哦。

识别识别waf呢可以通过WFW这个00这个进行一个识别。那它用法也是看我们的这个read me。啊，很简单，可以看到它的wa00F杠list去查看它支持的wa的一个版本啊非常的多。

那我们直接啊用wa加上我们的这个版本号即可。但是大家要注意，这里是进行了一个编译安装，需要使将克隆下来之后，使用python set up pI installstore进行安装。

那我们这里哎来简单看一下看一下，这里我已经克隆好了，克隆好。

![](img/1d68020549bae50c5d0e92d038d2d38f_5.png)

。那WFW00F但是它的识别啊是啊有问题的。它有的识别的时候，你会被封掉的。你IP会被封锁的。那我们这里进行python，然后set up p installstore之后。

就可以直接在命令行使用我们的这个命令了啊，就可以直接在命令行使用，加上我们的这个URL地址。UIL地址一般大学里面啊会使用一个防护。那我们来看啊，随便挑选1个EDU进行一个。



![](img/1d68020549bae50c5d0e92d038d2d38f_7.png)

这这搜的都是啥呀？就拿湖南大学下手。

![](img/1d68020549bae50c5d0e92d038d2d38f_9.png)

OK那我们直接把他的这个UIL复制过来。Yeah。哎，进行一个粘贴。就假上。啊，这里。他会告诉我。是有wa的，但是没有识别出来。那我们可以看一下它能识别哪一些waf杠L。啊，能识别的是挺多的。

云盾云锁360都能识别WTS啊，最好绕的就是这个了，是吧？大家在学绕up的话，肯定第一个接触的就是他第一个就是接触的它它是最好绕的。然后云所云所。Yeah。我们来看一下他有没有一些航站。那我们还有旁站。

来试试一下。这试一下是没事的，但你确千万不要对他进行一个。嗯，对他的业务进行一个攻击啊，不要对业务进行攻击。你去挖EDU2RC的话，大家要记住啊。

就是我觉得你去挖这些啊SRC特别是现在正处于一个招生这个状态。你去挖它。第一就是一不看二不删三不改。

![](img/1d68020549bae50c5d0e92d038d2d38f_11.png)

要做的这些，你不看不删也不改，你也不要去加东西，不要去是给他上传一个木马。不要去给他上传一个码，这个啊被别人抓到了。你说你是玩EDOSIRC那有点说不通是吧，是吧，就是不不看不查不删。

然后去挖他这没有问题的。那这里我们也可以使用。那个n map进行一个扫描，但N map这个扫描wa就很一般了。我们看到这个工具其实都很一般。对它进行一个扫描。那我们这里来看一下，看一下那个wa哎。

随便选一个吧，随便选一个，就直接用这个。用百度吧用URL，我们随便选一个吧，试下他有没有这个。啊，算了，不在这选了啊，不在这选了，大家应该应该知道了，应该知道这个万海福拦截是什么样子的。

那下面呢我们对网站的收集啊基本上就到这里就结束了。那我们收集到这些信息之后，就是寻找有没有脆弱性漏洞，有没有中间键有没有漏洞。你这个CMS有没有漏洞，有wa夫如何绕wa？啊，没有upuff。绕不过。

包括找不到漏洞，那就是继续收集进行C段航站的扫描，去找他的边缘资产进行一个渗透。因为我们是渗能测试，是最后是需要提交一个报告的。如果你提交报告是什么都没有，那肯定不合适，所以要对资产进行个扩大扫描。

那我们在这些这三天讲的这个信息收集里面呃，核天实验室是有具有相关实验的，大家可以去自行的搜索，并且练习。有DNS进行收集。那我们今天的这个作业呢，就是啊完成这两个实验。我来看一下1个Aax扫描。

这是周末周末的家时间啊，可以利用一个晚上就可以做一下来做一下。OK这是。第一个实验啊这个实验我写在那我们群里了。我写在这个群里。会会有作业啊。Yeah。但是这个账号都有吧，账号。什么时候交作业？

那你周周一再交吗？周一再交那个周。啊，就会员，你可以问小姐瑶呀，小姐杰不是给会员吗？啊，还还没还没开会远呀。还没开会员呀。啊，没事没事，你要是现在不想开的话，也没事，哎，开了，你可以去学习啊。

可以去学习。其实呃实验室虽然很断，但是东西还是不少的。啊，没事的，你要是不想开的话，也没关系，那我就。啊，对的，小姐姐双休双休。你可以周一再交吗？你周末交了，也是周一才会交到我们到讲师这个讲师这里。

那我这就给大家写一下这个作业了，作业就是一个I map网络扫描。嗯这个是写一下。2020。今天是4号叫网站信息收集。现在大家如果面试的话，在第一关就已经OK了啊，网站信息收集。别的也收集不到什么了。

无非就是一个工具的好坏。你工具很多，不仅仅是我讲的这些工具，你b up或网上一搜，杂七杂八，这些论坛也会爆出工具，当有的就非常难用了啊，有的非常难用。这个是和天的一个实验。

第一第一个实验是这个叫N mapN map。过十日。嗯。有人上。😔，嗯。就这把前面的这些。点该。一个MM的网络扫描。然后还有我们的第二个实验，这个外国的敏感信息泄露，也就是get泄露。

get hug还有SVN泄露这几个大家都练习一下。嗯。哎，这个怎么一点就这个样呢？Yeah。现在你可以问一下他吧，可以问一下他。我们是有两个班主任的吧，可以去问一下。啊，咖利上面工具很多的。

有自带侧挖的，有的啊，测挖的工具也很多，但是你感觉这就很一般，测不到。就是网站信息上面，这什么鬼？然后我再讲一个第三个作业哈，第三个作业是一个尝试啊。Okay。Yeah。你可以去一个。

比如说呃公益SRC这些大家应该知道吧，不知道的话，去扫一下，或者去去那个找一下，或者是对一个众测，对这个漏洞盒子的重测。或者是呃这些公益SRC或漏洞和的众策啊，任选一个站。啊，进行一个进行一个信息收集。

呃，看看看看能不能进行一个完整的信息收集。啊，信息收收集这个熟悉信息收集的流程。啊，这是个尝试啊，大家这个课后作业我都写到这里了。大家在这个呃去信行收集的话，你有可能发现很多好玩的东西。

像补天的这个公益SRC，你能挖到的还是很多的。啊有的是占特别小，你能扫到东西的，包括那刚刚讲的sprintboard那个泄露，它都有可能有。当然有可能也被挖完，他没有，肯定是又被挖完了。

最大佬用IWS批量扫扫扫就扫完了。那今天就先到这里了。大家还有什么疑问吗？对信息收集。

![](img/1d68020549bae50c5d0e92d038d2d38f_13.png)

。那没有什么疑问的话呃，给他泄漏不用猜啊，用我们那个报货报货工具嘛。

![](img/1d68020549bae50c5d0e92d038d2d38f_15.png)

用这些工具你去试嘛，他会有的，他会告诉你有的。如果有的话，你会看到他会挂破出来一个点get，然后你再持续使用get hand进行一个挂破。你把这个核电实验做了就就行了，不用猜了。

那大家如果有其他问题的话，可以去在群里询问或者是问我都行。嗯，大家应该知道我是哪吧，就是。啊，这个我的QQ也是这个医生的，在群里面有我。那今天课程就先到这里了，祝大家周末愉快。那我就下课了。



![](img/1d68020549bae50c5d0e92d038d2d38f_17.png)